<?xml version="1.0" encoding="UTF-8"?>

<project name="AntBuild" default="compile">

	<property name="build.dir" location="bin" />

	<path id="classpath">
		<pathelement path="sneerAPI-bin"/>
		<pathelement path="${build.dir}"/>
		<pathelement path="bricks/lib/bcprov-jdk16-139.jar"/>
		<pathelement path="kernel/lib/asm-all-3.1.jar"/>
	</path>

	<target name="compile" depends='copyResources'>
		<mkdir dir="${build.dir}"/>
		<javac srcdir="wheel/src"
				destdir="sneerAPI-bin"
				listfiles="true"
				failonerror="true"
				debug="on"
				target="1.5"
				encoding="utf-8"
		>
			<classpath refid="classpath"/>
		</javac>
		<javac srcdir="spikes/src"
				destdir="${build.dir}"
				listfiles="true"
				failonerror="true"
				debug="on"
				target="1.5"
				encoding="utf-8"
		>
			<classpath refid="classpath"/>
		</javac>
	</target>

	<target name='copyResources'>
		<copy todir='${build.dir}'>
			<fileset dir='wheel/src'>
				<include name='**/**'/>
				<exclude name='**/*.java'/>
			</fileset>
			<fileset dir='spikes/src'>
				<include name='**/**'/>
				<exclude name='**/*.java'/>
			</fileset>
		</copy>
	</target>
</project>