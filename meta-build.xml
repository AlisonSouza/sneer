<?xml version="1.0"?>
<project name="sneer meta build" default="build">
	
	<property name="build.dir" value="build" />
	
	<target name="build" depends="build.xml.generation">
		<ant antfile="build.xml" />
	</target>
	
	<target name="build.xml.generation" depends="init">
		
		<path id="wheel.lib.classpath">
			<fileset dir="wheel/lib">
				<include name="**/*.jar" />
			</fileset>
		</path>
		
		<javac destdir="${build.dir}" classpathref="wheel.lib.classpath">
			<src path="wheel/src" />
			<src path="meta/src" />
		</javac>
		
		<java classname="build.GenerateAntFile">
			<classpath>
				<pathelement location="${build.dir}" />
				<path refid="wheel.lib.classpath" />
			</classpath>
			<arg value="-sourcefolderstogether" />
		</java>
	</target>
	
	<target name="init">
		<mkdir dir="${build.dir}" />
	</target>
	
</project>