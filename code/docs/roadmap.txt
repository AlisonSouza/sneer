TASKS
=========

	- [Bamboo] .Prevalence
		- Use a single prevayler for all bricks inside PrevalentImpl so that transactions are properly synchronized among all prevalent bricks.
			- Ignore method calls that are already inside a transaction context.
		- Make the Contacts brick prevalent. Discuss with Klaus.
		- Make Seals.put() accept a Contact instead of a nickname string.
		
	- Lighter Track Mapping
		- [Igor] Implement Crypto.digest(File) as a stepper. It will automatically use the CpuThrottle. 
			- Notice CpuThrottle max usage is already being limited in FolderMapping.run().
		- [Igor] Test mapping of folder with several tracks before and after doing the above, to see if CPU consumption is actually reduced.

	- [Igor] @Brick(Prevalent.class)
		- FileMap - Add the prevalent nature and see if it works.
		- TupleSpaceImpl._keptTuples -> my(KeptTuples.class). See if it works.
			- Delete all other java files from the TupleSpaceImpl package.
			- Delete the lib folder from the TupleSpaceImpl package. 
			
	- [Igor] TrackDownloaderTest - Unignore and run. 

	- [Igor] IO.fileFilter().extensions(String...) implementation (there are two versions - one commented)
		- Do whatever you think is best. But null argument is not supported and empty array means NO files, not ANY files. Change caller because of that.

	- [Igor] Runnable -> ClosureX - Find all places in foundation and in all our brick APIs that accept Runnable and change them to accept ClosureX.
		- Code that calls these APIs and needs to throw a checked throwable will call using ClosureX, code that does not throw a checked throwable will call using Closure.

	- [Klaus/Igor] (Discuss task) @Snapp - Delete this annotation.
		- Detect snapps not by the fact that they have the annotation but by the fact that they have no methods! ;)
			- Revise for all bricks: Is it a snapp?
				- no: Does it have no methods? Does a non-snapp brick with no methods make sense? Discuss with Klaus.
					- sneer.bricks.pulp.dyndns.client.DynDnsClient;
					- sneer.bricks.hardware.cpu.threads.latches.Latches;
				- yes: Does it really have to be a snapp? Is the @Snapp annotation really necessary?
 					- no: remove the annotation
						- dfcsantos.wusic.Wusic;
						- sneer.bricks.snapps.wind.Wind;
						- sneer.bricks.skin.main.menu.exit.impl.ExitMenuItemImpl;
					- yes: Does it have methods?
 						- no: ok.
						- yes: Can the methods be removed?
							- yes: remove the methods.
 							- no: discuss with Klaus.
								- sneer.bricks.skin.main.menu.MainMenu;
								- sneer.bricks.skin.main.synth.menu.SynthMenus;
								- sneer.bricks.snapps.contacts.gui.ContactsGui;
								- sneer.bricks.softwaresharing.BrickSpace; 


	- [Igor] ContactInfoWindowImpl - Add a field for the Contact's Seal: 128 bytes represented in hexadecimal that can be >entered< any old way like a copy-and-paste from an email (anything other than hex digits is ignored) but is >presented< IN COURIER like this:
		12ab 12ab 21ab 21f4 2e44 2a34 1c34 123f     
		12ab 12ab 21ab 21f4 2e44 2a34 1c34 123f     
		12ab 12ab 21ab 21f4 2e44 2a34 1c34 123f     
		12ab 12ab 21ab 21f4 2e44 2a34 1c34 123f     
		12ab 12ab 21ab 21f4 2e44 2a34 1c34 123f     
		12ab 12ab 21ab 21f4 2e44 2a34 1c34 123f     
		12ab 12ab 21ab 21f4 2e44 2a34 1c34 123f     
		12ab 12ab 21ab 21f4 2e44 2a34 1c34 123f
		- [Klaus] Glue the gui to the Seals brick.  

	- [Klaus] Improve networking experience so Wusic can be used
		- Sneer DNS
		- Routing for unreachable users
			- PK generation
				- Unique Seal generation
		

	- [Klaus] LocalBrickDiscoveryTest, BrickInstallerTest, Freedom7.meToo
		- Unignore Freedom7
			- Big File Blocks
			- BrickSpaceImpl.init() uncomment.
			- LocalBrickDiscoveryTest uncomment.
		- Brick States - All
			- Hierarchical View - Consider groups of bricks (brick package at any level, examples: bricks.hardware, bricks.software, bricks.hardware.io, etc) as an optional grouping for versioning and downloading from friends, not only individual bricks.
				- Do not allow circular dependencies among any level of groups of bricks and voilà: the world is free of cyclic dependencies.
	

	- [Igor/Klaus] Analyze the following performance issues:
		- IncomingHandShaker.identifyContact(ByteArraySocket) is very time-consuming
		- FileRequest surplus - Confirm it is not a leak

	- [Igor] Unigore RemoteCopyTest.testWithZeroLengthFile() and FileDownloadTest.receiveFileContentBlocksOutOfSequence()

	- Wusic
		- Display playing track of each contact
		- MusicalTasteMatcher Kernel
			- void awardMusicalTastePointsFor(TrackEndorsement, boolean goodOrBad) // Called for endorsements of >known< tracks to give "musical taste" points.
				- goodOrBad (sugestion)
					true: any track I have in my shared folder tree.
					false: rejected track. 
			- float estimateLiking(TrackEndorsement);   //Called for new, unknown tracks (not good nor bad). Returns an estimate of how much the user will like that track, based on the points awarded so far.
		- Downloads
			- Simultaneous download limit of 3.
			- 15 min timeout per download.
			- Do not download files user already has (includes candidates).
		- Implement toolTip functionality for TrackDisplay._trackLabel to display the track's full name
		- Back Button 
		- Find another way to solve pause lag (try to use a smaller frame in player)

	- SneerJockey - Extract from Sneer so it can be updated (Sneer itself is not updatable).

	- Fix LightType.CONFIRMATION

	- Get Sandro to cover functional tests with clover. 

	- Revise entire package structure.
		- Remove all calls to sleep() including indirect.

	- Sneer Responsiveness - Find a way to avoid snapp starter thread from waiting for gui thread.

	- RapidShare Killer
		- Focus. Keep it simple. Zero sofistication. Simplest possible solution. No crash-recovery, for example. No bugs. Decent design.

	- Log Filter
		- By default, nothing is logged. For each event, process lines from a "filter text", from top to bottom:
			- Lines starting with # are ignored
			- Blank lines are ignored
			- All other lines are matched (ignore case) and the event is logged if it matches a line.
			- Lines starting with - (minus sign) are filtered out of the log if they match.
			- Conflicting match and exclusion: last one wins.
		- Gui become a text field (ask Sandro for help)
		- Make persistent (ask Sandro for help).
	
        
------------------------------------------ "EAT YOUR OWN DOGFOOD" RELEASE

	- [Bamboo] my(StorageDirectory.class) - Make it work context-based and delete DirectoryConfig.getStorageDirectoryFor(brick).

	- DynDns
		- Fix: Running on more than one machine will cause redundant (abusive) updates. Do not persist last discovered IP. Do a DNS lookup every time instead.
		- User data - Check if persistence is ok, in the right directory.					

	- SignalChoosers - Return a WeakContract, just like regular Signals.
	
	- Packages with more than one brick - Do not allow.

	- Gui Thread - Always call gui brick code in the gui thread. What was already done with the GuiBrickInvocationHandler does not cover callbacks. Complicated and slow weak-proxy-bubble structures would have to be created to support that. Instead, the proposed idea is:
		- [Bamboo] Enhance at load-time the beginning of all public methods in all classes (including nested) in all gui brick impl packages.
			- GUI brick constructors should execute in the gui thread
			- Unignore and implement GuiBrickTest.guiBrickCallbacksComeInSwingThread()
			- Delete the GuiBrickInvocationHandler.
			- Test - Add Gui nature to gui bricks and run.
			- GuiThread - Improve how environment handling is done. 
				- Unignore GuiBrickTest.

	- Uncomment _logger field and finalize() method in EventNotifierImpl.

	- DynDns
		- Simplify to remove all synchronization. Let the container synchronize the brick.
			- Concurrency - Synchronize calls on Bricks, according to docs/brick_types.txt  


	- Contact Connection
		- Own Name - Show contacts' names in contact list
			- Freedom2Test - Unignore and make it pass.
		- Public Key Ids


------------------------------------------ "SHARE YOUR OWN DOGFOOD" RELEASE


	- Security
		- Sandboxing

	- P2P Communication (Tuples) - Solve tuple flooding on the network. Discuss ideas with the team.
		- Traffic Prioritization by tuple type
		- Bandwidth Optimization
		- Torrentness

--------------------------------------- Freedom 5


	- Snuggin - Initial rules
	
	- Logging - Revise all uses of logging, out and err.

	- Exception Handling - Revise and correct

	- Fix and remove all task comments in the code except for Optimize (Fix Urgent, Fix, Refactor and Implement).













TASKS
=========


		

	- Authentication (Simple)

	
	
	
	
	- Authentication (PK)


	- Responsive threading model for instruments. They can NEVER block the Swing gui thread.
		- [Bamboo] Inspect ALL Brick bytecode at load-time and do not allow it to catch Throwable. This makes all non-blocking code stoppable. We will deal with blocking code later.
		- [Bamboo] Inspect Gui Brick bytecode at load-time and do not allow it to call any code that throws Hiccup. It is equivalent and maybe easier to simply not allow the code to catch nor throw Hiccup.

	- Dashboard - Revise colors, gradient, font, size (layout). DO THIS ONLY AFTER TALKING TO KLAUS.

	- ContactsGUI - Accept cell part renderers. (dependency inverted) Discuss with team.
	
	- TopTen
		 - Categories (Ex.: Movies, Sports, Songs, Restaurants, etc)
		 	- CRUD
		 - Items 
		 	- CRUD
		 - Synonyms	
	

	- Affinity
		- Access control to all other snapps by affinity.

	30/MAY --------------------------------------

	- Synonyms

	- Annotations/Comments/Tags

	- Free Software Forum - Make a Splash
			
	25/JUN -------------------------------------- TopTen - FISL RELEASE

	- Issue Tracking
		- Voting
		- WindPlugin
	- Brick
		- Uninstall
		- Update
	- Kernel Update
		- Auto Update
		- KernelJockey - Cannot run new version if threads are still left over from previous run.
	- MeToo
	    - File Transfer

	- Security
		- Sandboxing

	- Wind History Queries

	- [Petra] Tray and Dashboard Titlebar Icon
	- [Petra] Online and Offline Icons
	
	- WatchMe
	- Accelerate.
		- Reactivate the Cache - Set WatchMeImpl.CACHE_CAPACITY to 3000 (Currently set to zero). 
			- Add a Sequencer for incoming ImageDeltaPackets.
			- Flush receiver's cache every time a packet is lost to avoid inconsistency.
				- Let peer signal interest in "lost cache packets". Do not implement this. Move this down in the roadmap when all other WatchMe tasks are done. A workaround for now is the WatchMe sender stopping and restarting WatchMe because this flushes the senders cache.

	
	---------------------------------- PUBLIC RELEASE (1.0) (Sovereign platform ok)

    - File Sharing
    	- Public Files
	
	
	- Same Room - It would be pretty cool to be able to hear other contacts in a lower volume, simulating a "same room" work environment :D
	- MSN Client
		- Contact Unification
	- Messaging - Grand unification of instant messages and email
		- Instant Messaging
		- Offline Messaging (equivalent to "email")
		- Group Messages
		- History
		- Public Forums

	- Avatars
		- Show in Contact List
		- Show in chat frame
		- Choose Image
		- Define Keyhole
		- Contacts' Avatars
			- View Keyholes in Contact List
			- View Full Avatar 
	- Profile - City, Birthday, etc (?)
	- Dashboard
		- Drag n Drop for reordering Snapps
	---------------------------------- PUBLIC RELEASE (2.0) (Sneer starts being attractive to the public in general)

	- OMetaBoo support
	---------------------------------- OMETABOO RELEASE (Sneer developers (includes independent app developers) gain productivity beyond their wildest dreams)
	
	- Auto Update for Bricks
	- Thumbnails in Pic Chooser
	- GiveNTake
	- Media
		- MP3 Player
		- Vídeo Player
		- TopTen Integration
		- Voice/Video Recording
		- Cam
	- Secure Channel-Crypto
	- Persistence-Crypto
	- Simple CPU Sharing
	- Multiple Look-N-Feels
		- Napkin Default Look-N-Feel
	---------------------------------- MAJOR PUBLIC RELEASE (3.0)
	
	- Drop XStream? - Consider using asm to inject "implements Serializable" in all bricks instead of using xstream
		- Measure Performance gain, if any
	- Native Bricks (JNI)
		    - Require JNI (Full-Trust) Security Clearance, even for verification. Warn user.
	- Own Photo - Crop
	---------------------------------- NEAR FUTURE - Everything below here is brainstorming for a more distant future
	
	- Anonimizing
	- Brick Development Tools
		- Code Repository Integration
		- Continuous Build
			- Unit Test Execution
				- Bug Tracking Integration
			- Dependency resolution
		- Peer Grid (CPU Sharing)
		- Eclipse Integration
		  - Namespace Economy - Consider loosening TCOB1
	- Allow for "backward-compatible" interfaces with the same name
	- Allow same name from different authors
		- Author will ALWAYS use "me" as package root name. Ex: me.util.logging
			- On deployment will be replaced by the author's nickname path or id or something. Ex: fred.sister.util.logging
	- Quarantine - Option to run (only native?) components in a separate VM process to avoid crashing the system (Ex: GPF).
 	- Automated tests as part of interface spec
		- Mock Components
		- Unit Tests
			- Set of public java classes. For Each class:
				- Package name is the subject interface package appended with ".tests". Ex: me.util.logging.tests
				- Class name is the subject interface name appended with "Test". Ex: LogTest
				- Single public constructor
					- Single parameter: the instance to be tested (implements subject interface).
				- Can be used to test ALL implementations of the subject interface.


[END OF OFFICIAL TODO LIST]




OLD STUFF
=================

		- SnappPreview
			- Change size
			- Menu
				- open window
				- uninstall
				- About
				- Others (Snapp specific)
			- Sizes:
				- Single Line - Signal<String> title(). Future: space available for graphics.
				- MultiLine - Signal<int> preferredHeight() Component component(). Future: forced size by user.
				- Iconified - space available for graphics
		- SnappWindow
	- Animated collapse for SnappPreviews

	=================================================== RELEASE
	- Resizeable JWindow, instead of switching JFrame <-> JWindow.
	- Add Tab/Window Support

Container
	- include author's pk into brick hashcode
	- use brick hashcode as key on BrickManager 
		- hash com libs
	[Almost DONE] - Brick Publish:
		1) Inform source folder (src).
		2) Inform library folder (lib).
		3) Find all interfaces that extend Brick inside src.
		4) compile the bricks using the metadatafile (describes only RELATIVE paths to libs inside lib folder) and all jars inside all subfolders of the bricks' local lib folder.
		5) Run SNEER1024 hash (SHA-512 concat Whirlpool-512) on interface .class files (or jar).
		6) Run SNEER1024 hash on impl .class files (or jar) together with libs (produce a single impl hash for it all).
		7) Inform status:
			- New brick.
			- Unchanged brick.
			- Impl changed (impl hash of brick changed)
			- Evolved brick (main interface extends main interface of old brick)
			- Invalid brick (Interface hash of brick changed)
				Deploy is not allowed in this case.
		8) deploy brick to sneer home ($USER_HOME/.sneer/)
	- Logging - Find a way that the Looger brick can configured via API without having to use the log4j properties file. 
	=================================================== RELEASE
	

Klaus
	contacts() - change from ListSignal to SetSignal.
	=================================================== RELEASE
	- "Interface.allImplementors()" - Simplify use by injecting a SetSignal with all Bricks that implement a non-brick interface defined by another brick.  
	- UDP instead of TCP

Gandhi
	partially done (windows&konqueror not nautilus) - Public Files of Contact - Copy and Paste
	- Check file transfer between LINUX and WINDOWS. (Using Metoo, shared folders, public files).
	- Public Files of Contact - Drag and Drop
	- Persist SplitPane position (maybe with bounds)


FileSharing
	- Hardcoded directory
	- Polling
	- New file
	- Set same modified date
	- Atomic transfers always (file rename)
	- Chunked transfers.
	- File deletion detected (recover from remote)
	- Changed file (based on date)
	- File deletion requested by user (delete on both sides)
	- subdirectories
	- Limitação de uso de banda hardcoded
	- Smaller files first
	- Conflict detection
	- access control
	- File hashes to detect changes and renames
	- diff
  
 
TopTen


GiveNTake
	- "Things"
		- Publisher/Announcer/Author - The sovereign party responsible for this thing.
		- Name - For listing. Considered part of the description when searching, maybe with a higher weighting.
		- Description - Free text.
		- Attributes? Price, Weight, etc?
			- Location? Street Addresses? GPS Coordinates?
		- Photos? Other Media?
		- Comments by others?

	- Examples
	- Apartment
		- Name: "Av João Gualberto 1673 sala 41" or "Apartamento Juvevê 2 Quartos"
		- Description: "Apartamento Sala Comercial em Bom estado. Bom para consultorio. Face sul. Sito a Av João Gualberto 1673 sala 41. R$42700,00 a vista. Aceita troca por carro de menor valor."

		- Name: "Apartamento Residencial - Bacacheri"
		- Description: "Valor: R$ 194.500,00 Area: 163,00m², mobilado, ocupado, com playground, BELÍSSIMO APTO CONTENDO 3 QUARTOS SENDO 1 SUITE COM ARMÁRIOS E PISO EM MADEIRA, AMPLA SALA EM (L) TAMBEM COM PISO EM MADEIRA, SANCAS DE GESSO, PINTURA TEXTURIZADA, QUARTOS DE SOLTEIRO COM ARMÁRIOS,ESQUADRIS DE ALUMINIO, COZINHA COM ARMÁRIOS E AQUECIMENTO Á GÁS, PREDIO COM 02 SALÕES DE FESTAS, 02 CHURRASQUEIRAS COLETIVAS, SALÃO DE JOGOS E SALA DE GINASTICA, ARQUITETURA MODERNA E PASTILHADA. PRÓXIMO AO WALL MART DO CABRAL, BANCOS ESCOLAS FARMÁCIAS E COMERCIO EM GERAL. ESTUDO PROPOSTA COM IMÓVEL DE MAIOR VALOR EM CONDOMINIO FECHADO. CONFIRA E FAÇA SUA PROPOSTA"
  
		- Name: "Apartamento Residencial - Barreirinha"
		- Description: "Valor: R$ 66.000,00 Area: 50,00m² Apartamento no Cond. Sta. Efigênia II, 3º andar, 02 quartos, sala, cozinha, área serviço e bwc, piso taco, próximo ao Terminal Barreirinha, com ônibus, escola, Posto de Saúde. Rua Professor Guilherme Butler"

		- Name: "Casa Residencial - Atuba"
		- Description: "Valor: R$ 130.000,00 Area: 120,00m² Casa com 3 quartos sala cozinha banheiro com piso em parquet, janelas de ferro com grade toda murada e com grade na frente, quintal com deposito em alvenaria, cozinha com armarios."
      
	- Search:
		API for agent with predicate to decide?

		(Apartamento | Apto | Ap) => Apartamento
		(Casa | Sobrado) => Casa
		(Barreirinha | Ahu | Juveve | AltoDaGloria) -> Bairros Legais
		(Apartamento | Casa), Bairros Legais, -Comercial, Churrasqueira -> Imoveis Legais
      
		Imoveis Legais, Price < 100000
		Imoveis Legais, 100000 <= Price < 200000
		Imoveis Legais, 200000 <= Price < 300000
      
		- Ignored (em, bom, para, m², com)
      
	- shown tags
		- 4x Valor
        - 3x Cozinha
        - 3x área
        - 3x Residencial
        - 3x quartos
        - 3x Valor R$
        - 2x 3 quartos
        - 2x comercial
        - 2x churrasqueira
